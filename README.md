# Alphard Form App (Next.js + Supabase)

## Local setup
1. `npm install`
2. Copy `.env.example` to `.env` and fill values.
3. `npm run dev`

App:
- Form: `http://localhost:3000/`
- Admin: `http://localhost:3000/admin`

## Supabase setup
Create a table in Supabase SQL editor:

```sql
create table if not exists public.submissions (
  id bigint generated by default as identity primary key,
  first_name text not null,
  last_name text not null,
  birth_date date not null,
  cnp text not null,
  phone text not null,
  email text not null,
  exam text not null,
  created_at timestamptz not null default now()
);
```

No RLS is required because inserts/queries are done via Service Role on the server.

## Supabase Auth
Create an admin user in Supabase Auth (Email/Password) using the email from `ADMIN_EMAIL`.
Only this email can access `/admin`.

## Deploy (Vercel)
1. Push repo to GitHub.
2. Create a Vercel project from the repo.
3. Add env vars in Vercel:
   - `NEXT_PUBLIC_SUPABASE_URL`
   - `NEXT_PUBLIC_SUPABASE_ANON_KEY`
   - `SUPABASE_SERVICE_ROLE_KEY`
   - `ADMIN_EMAIL`
4. Deploy.

Notes:
- Service role key must never be exposed client-side.
- Admin access is restricted by email match.
